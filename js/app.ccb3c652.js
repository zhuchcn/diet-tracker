(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],n[i]&&m.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/diet-tracker/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"005d":function(t,e,a){},"0181":function(t,e,a){"use strict";var s=a("61d4"),n=a.n(s);n.a},"06fd":function(t,e,a){"use strict";var s=a("c651"),n=a.n(s);n.a},"07d2":function(t,e,a){"use strict";var s=a("fd70"),n=a.n(s);n.a},"13c9":function(t,e,a){"use strict";var s=a("005d"),n=a.n(s);n.a},1664:function(t,e,a){},2004:function(t,e,a){"use strict";var s=a("c526"),n=a.n(s);n.a},"230ea":function(t,e,a){"use strict";var s=a("42ed"),n=a.n(s);n.a},"3cf2":function(t,e,a){},"3d96":function(t,e,a){},"42ed":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),n=a("1dce"),r=a.n(n),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],c={name:"app",created:function(){this.$store.dispatch("tryAutoLogin")}},l=c,u=a("2877"),d=Object(u["a"])(l,i,o,!1,null,null,null),m=d.exports,p=a("bc3a"),f=a.n(p),v=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("div",{staticClass:"container"},[a("div",{staticClass:"row",attrs:{id:"main"}},[t._m(0),a("div",{staticClass:"col-lg-4",staticStyle:{"padding-top":"80px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"btn-container mx-auto"},[a("router-link",{staticClass:"btn btn-warning btn-lg btn-block my-2",attrs:{to:"/signup"}},[t._v("Sign Up")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"btn-container mx-auto"},[a("router-link",{staticClass:"btn btn-danger btn-lg btn-block my-2",attrs:{to:"/signin"}},[t._v("Sign In")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"btn-container mx-auto"},[a("router-link",{staticClass:"btn btn-warning btn-lg btn-block my-2",attrs:{to:"/register"}},[t._v("Register")])],1)])])])]),a("app-footer")],1)},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"text-center"},[s("img",{staticClass:"mx-auto rounded-circle",attrs:{src:a("652a"),alt:""}})])])}],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-light bg-light"},[a("div",{staticClass:"container"},[a("a",{staticClass:"navbar-brand",attrs:{href:""}},[t._v("Diet Tracker")]),a("ul",{staticClass:"navbar-nav ml-auto"},["/signin"===t.currentRoute?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"btn btn-warning",attrs:{to:"/signup"}},[t._v("Sign Up")])],1):t._e(),"/signup"===t.currentRoute?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"btn btn-warning",attrs:{to:"/signin"}},[t._v("Sign In")])],1):t._e(),t.auth?a("li",{staticClass:"nav-item"},[a("button",{staticClass:"btn btn-warning",on:{click:function(e){return e.preventDefault(),t.onLogout(e)}}},[t._v("Log out")])]):t._e()])])])},_=[],w={computed:{auth:function(){return this.$store.getters.isAuthenticated},currentRoute:function(){return this.$route.path}},methods:{onLogout:function(){this.$store.dispatch("logout")}}},C=w,y=(a("6a25"),Object(u["a"])(C,b,_,!1,null,"63dc48c0",null)),k=y.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"page-footer font-small pt-4"},[t._m(0),a("div",{staticClass:"footer-copyright text-center py-3",attrs:{id:"footer-copyright"}},[t._v("\n      © "+t._s(t.year)+" Copyright:\n      "),a("a",{attrs:{href:"https://zivkovic.ucdavis.edu"}},[t._v(" Zivkovic Lab")]),t._v("\n      @\n      "),a("a",{attrs:{href:"https://www.ucdavis.edu"}},[t._v(" UC Davis ")])])])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid text-center text-md-left footer-body"},[a("div",{staticClass:"row",attrs:{id:"footer-spacer"}},[a("hr",{attrs:{id:"footer-spacer-hr"}}),a("div",{staticClass:"logo"},[a("img",{attrs:{src:"https://ggnb.ucdavis.edu/themes/contrib/sitefarm_one/images/uc-logo-white.svg",alt:""}})])]),a("div",{staticClass:"footer-link text-center"},[a("a",{attrs:{href:"https://www.ucdavis.edu"}},[t._v("UC Davis ")]),t._v("|\n        "),a("a",{attrs:{href:"https://nutrition.ucdavis.edu/"}},[t._v("Department of Nutrition ")]),t._v("|\n        "),a("a",{attrs:{href:"https://ggnb.ucdavis.edu/"}},[t._v("Graduate Group of Nutritional Biology ")]),t._v("|\n        "),a("a",{attrs:{href:"https://zivkoviclab.ucdavis.edu"}},[t._v("Zivokovic Lab")])])])}],P={computed:{year:function(){var t=new Date;return t.getFullYear()}}},x=P,$=(a("dfaf"),Object(u["a"])(x,S,j,!1,null,"02b270c4",null)),T=$.exports,D={components:{appHeader:k,appFooter:T}},E=D,I=(a("13c9"),Object(u["a"])(E,h,g,!1,null,"73150363",null)),O=I.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 offset-lg-3"},[a("form",{staticClass:"pt-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"form-control",attrs:{type:"date",max:t.tomorrow},domProps:{value:t.date},on:{change:t.changeDate,input:function(e){e.target.composing||(t.date=e.target.value)}}})])]),t._l(t.diet,function(e,s,n){return a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"card mt-3"},[a("div",{staticClass:"card-header bg-info pb-2"},[t._v("\n              "+t._s(s)+"\n              "),a("div",{staticClass:"float-right text-white d-inline-block"},[a("font-awesome-icon",{staticClass:"clickable-fa",attrs:{icon:"plus"},on:{click:function(e){t.addRecord[s]=!0}}})],1)]),t.addRecord[s]?a("app-edit-record",{attrs:{meal_type:s,userId:t.userId},on:{readyToSubmit:function(e){return t.saveRecord(e)},cancelSubmit:function(e){t.addRecord[s]=!1}}}):t._e(),a("ul",{staticClass:"list-group"},t._l(e,function(e,n){return a("li",{staticClass:"list-group-item"},[t._v("\n                "+t._s(e.item)+", "+t._s(e.quantity)+" "+t._s(e.unit)+"\n                "),a("div",{staticClass:"d-inline-block float-right"},[a("font-awesome-icon",{staticClass:"clickable-fa pr-2",attrs:{icon:"edit"},on:{click:function(e){return t.showEditRecord(n)}}})],1),t.editRecord[n]?a("app-edit-record",{attrs:{meal_type:s,userId:t.userId,item:e.item,quantity:e.quantity,unit:e.unit,remove_record:!0},on:{readyToSubmit:function(e){return t.updateRecord(n,e)},cancelSubmit:function(e){return t.hideEditRecord(n)},readyToDelete:function(e){return t.deleteRecord(n,s)}}}):t._e()],1)}),0)],1)])})],2)]),a("app-footer")],1)},U=[],N=(a("f576"),a("7f7f"),a("2f62")),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-3"},[a("hr"),a("form",{staticClass:"px-3"},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Item Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item,expression:"item"}],staticClass:"form-control",attrs:{type:"text",placeholder:"food item"},domProps:{value:t.item},on:{input:function(e){e.target.composing||(t.item=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-3"},[a("label",[t._v("Quantity")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"0"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-3"},[a("label",[t._v("Unit")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],staticClass:"form-control",attrs:{type:"text",placeholder:"one/lb/oz"},domProps:{value:t.unit},on:{input:function(e){e.target.composing||(t.unit=e.target.value)}}})]),a("div",{staticClass:"py-1",class:{"col-md-4":t.remove_record,"col-md-6":!t.remove_record}},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return e.preventDefault(),t.submitRecord(e)}}},[t._v("Submit")])]),t.remove_record?a("div",{staticClass:"col-md-4 py-1"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:t.deleteConfirmModal}},[t._v("Remove")])]):t._e(),a("div",{staticClass:"py-1",class:{"col-md-4":t.remove_record,"col-md-6":!t.remove_record}},[a("button",{staticClass:"btn btn-warning btn-block",on:{click:function(e){return e.preventDefault(),t.cancelSubmit(e)}}},[t._v("Cancel")])])])]),t.showModal?a("app-delete-modal",{on:{confirmDelete:t.deleteSubmit,cancelDelete:t.cancelDelete}}):t._e()],1)},q=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal modal-mask",staticStyle:{display:"block"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("\n            Sure to delete this record?\n          ")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",on:{click:t.confirmDelete}},[t._v("Delete")]),a("button",{staticClass:"btn btn-secondary",on:{click:t.cancelDelete}},[t._v("Cancel")])])])])])])},L=[],F={methods:{confirmDelete:function(){this.$emit("confirmDelete")},cancelDelete:function(){this.$emit("cancelDelete")}}},W=F,B=(a("230ea"),Object(u["a"])(W,A,L,!1,null,null,null)),z=B.exports,J={data:function(){return{showModal:!1}},props:{meal_type:String,userName:String,item:String,quantity:String,unit:String,remove_record:Boolean},components:{appDeleteModal:z},methods:{submitRecord:function(){var t={userName:this.userName,meal_type:this.meal_type,item:this.item,quantity:this.quantity,unit:this.unit};this.$emit("readyToSubmit",t)},cancelSubmit:function(){this.$emit("cancelSubmit")},deleteConfirmModal:function(){this.showModal=!0},deleteSubmit:function(){this.$emit("readyToDelete"),this.showModal=!1},cancelDelete:function(){this.showModal=!1}}},Y=J,H=Object(u["a"])(Y,R,q,!1,null,null,null),Q=H.exports,V={data:function(){return{diet:{breakfest:{},lunch:{},dinner:{},snacks:{}},addRecord:{breakfest:!1,lunch:!1,dinner:!1,snacks:!1},editRecord:{},date:null,tomorrow:null}},computed:{userId:function(){return this.$store.state.userId},idToken:function(){return this.$store.state.idToken}},methods:{saveRecord:function(t){var e=this,a=t.meal_type;f.a.post("diet/".concat(this.userId,"/").concat(this.date,".json?auth=").concat(this.idToken),t).then(function(s){e.$set(e.diet[a],s.data.name,t),e.diet[a][s.data.name]=t}),this.addRecord[a]=!1},updateRecord:function(t,e){var a=e.meal_type;f.a.put("diet/".concat(this.userId,"/").concat(this.date,"/").concat(t,".json?auth=").concat(this.idToken),e),this.$set(this.diet[a],t,e),this.editRecord[t]=!1},deleteRecord:function(t,e){f.a.delete("diet/".concat(this.userId,"/").concat(this.date,"/").concat(t,".json?auth=").concat(this.idToken)),this.$delete(this.diet[e],t)},fetchData:function(){var t=this;f.a.get("/diet/".concat(this.userId,"/").concat(this.date,".json?auth=").concat(this.idToken)).then(function(e){var a=e.data,s={breakfest:{},lunch:{},dinner:{},snacks:{}};for(var n in a)s[a[n].meal_type][n]=a[n];t.diet=s})},showEditRecord:function(t){this.$set(this.editRecord,t,!0)},hideEditRecord:function(t){this.$set(this.editRecord,t,!1)},changeDate:function(){this.$store.commit("setDate",this.date),this.fetchData()}},created:function(){var t=new Date;this.date="".concat(String(t.getFullYear()),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")),this.$store.commit("setDate",this.date),this.fetchData(),this.tomorrow="".concat(String(t.getFullYear()),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()+1).padStart(2,"0")),console.log(this.tomorrow)},components:{appEditRecord:Q,appHeader:k,appFooter:T}},X=V,G=(a("7a54"),Object(u["a"])(X,M,U,!1,null,null,null)),Z=G.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-side-bar"),a("div",{staticClass:"main-panel"},[a("app-nav-bar"),a("div",{staticClass:"px-3"},[a("router-view")],1)],1)],1)},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"d-md-block bg-light sidebar"},[a("div",{staticClass:"sidebar-sticky"},[t._m(0),a("hr",{staticClass:"nav-divider"}),a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item",class:{active:"overview"===t.path}},[a("router-link",{staticClass:"nav-link",class:{active:"overview"===t.path},attrs:{to:"/admin/overview"}},[a("span",{staticClass:"fa"},[a("font-awesome-icon",{attrs:{icon:"home"}})],1),a("p",[t._v("Dashboard")])])],1),a("li",{staticClass:"nav-item",class:{active:"projects"===t.path}},[a("router-link",{staticClass:"nav-link",class:{active:"projects"===t.path},attrs:{to:"/admin/projects"}},[a("span",{staticClass:"fa"},[a("font-awesome-icon",{attrs:{icon:"folder-open"}})],1),a("p",[t._v("Projects")])])],1),a("li",{staticClass:"nav-item",class:{active:"users"===t.path}},[a("router-link",{staticClass:"nav-link",class:{active:"users"===t.path},attrs:{to:"/admin/users"}},[a("span",{staticClass:"fa"},[a("font-awesome-icon",{attrs:{icon:"users"}})],1),a("p",[t._v("Users")])])],1),a("li",{staticClass:"nav-item",class:{active:"records"===t.path}},[a("router-link",{staticClass:"nav-link",class:{active:"records"===t.path},attrs:{to:"/admin/records"}},[a("span",{staticClass:"fa"},[a("font-awesome-icon",{attrs:{icon:"utensils"}})],1),a("p",[t._v("Records")])])],1),a("li",{staticClass:"nav-item",class:{active:"waitlist"===t.path}},[a("router-link",{staticClass:"nav-link",class:{active:"waitlist"===t.path},attrs:{to:"/admin/waitlist"}},[a("span",{staticClass:"fa",staticStyle:{"font-size":"32px"}},[a("font-awesome-icon",{attrs:{icon:["fab","stack-overflow"]}})],1),a("p",[t._v("Waitlist")])])],1)])])])},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-brand"},[a("a",{staticClass:"nav-brand-link",attrs:{href:""}},[t._v("Diet Tracker")])])}],st=(a("28a5"),{computed:{path:function(){return this.$route.path.split("/")[2]}},created:function(){}}),nt=st,rt=(a("06fd"),Object(u["a"])(nt,et,at,!1,null,"3b25c9a1",null)),it=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar flex-md-nowrap p-0 shadow"},[a("ul",{staticClass:"navbar-nav ml-auto px-3"},[a("li",{staticClass:"nav-item text-nowrap"},[a("a",{staticClass:"nav-link",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("\n        Sign out \n        "),a("font-awesome-icon",{attrs:{icon:"sign-out-alt"}})],1)])])])},ct=[],lt={methods:{logout:function(){this.$store.dispatch("logout")}}},ut=lt,dt=(a("07d2"),Object(u["a"])(ut,ot,ct,!1,null,"2b3f0802",null)),mt=dt.exports,pt={components:{appSideBar:it,appNavBar:mt}},ft=pt,vt=(a("a81b"),Object(u["a"])(ft,K,tt,!1,null,"71e5bf50",null)),ht=vt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("div",{staticClass:"row pt-4"},[a("div",{staticClass:"col-lg-4 offset-lg-4 col-md-6 offset-md-3 col-sm-8 offset-sm-2"},[a("div",{staticClass:"card"},[t._m(0),t.passwordError?a("div",{staticClass:"alert alert-danger m-3"},[t._v("\n          Email or password not matching with the records. Please try again.\n        ")]):t._e(),a("form",{staticClass:"p-4",attrs:{id:"signin"},on:{submit:function(e){return e.preventDefault(),t.loginSubmit(e)}}},[a("div",{staticClass:"form-group py-2",class:{invalid:t.$v.email.$error}},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email"},domProps:{value:t.email},on:{blur:function(e){return t.$v.email.$touch()},input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group py-2"},[a("label",[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"pt-2 pb-4"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit",disabled:t.$v.$invalid}},[t._v("Login")])])])])])]),a("app-footer")],1)},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header text-center bg-primary text-white"},[a("h4",[t._v("Sign In")])])}],_t=a("b5ae"),wt={data:function(){return{email:"",password:""}},computed:{passwordError:function(){return this.$store.state.passwordError}},components:{appHeader:k,appFooter:T},validations:{email:{required:_t["required"],email:_t["email"]}},methods:{loginSubmit:function(){var t={email:this.email,password:this.password};this.$store.dispatch("login",{email:t.email,password:t.password})}}},Ct=wt,yt=(a("74bd"),Object(u["a"])(Ct,gt,bt,!1,null,null,null)),kt=yt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("div",{staticClass:"row pt-4"},[a("div",{staticClass:"col-lg-4 offset-lg-4 col-md-6 offset-md-3 col-sm-8 offset-sm-2"},[a("div",{staticClass:"card"},[t._m(0),t.unauthEmailError?a("div",{staticClass:"alert alert-danger mt-3 mx-3"},[t._v("\n          Looks like your email address is not autharized. Please contact chhzhu@ucdavis.edu.\n        ")]):t._e(),t.emailExistError?a("div",{staticClass:"alert alert-danger mt-3 mx-3"},[t._v("\n          Your email already exists. Please try logging in or contact chhzhu@ucdavis.edu\n        ")]):t._e(),a("form",{staticClass:"p-4",attrs:{id:"signin"},on:{submit:function(e){return e.preventDefault(),t.signupSubmit(e)}}},[a("div",{staticClass:"form-group py-2",class:{invalid:t.$v.email.$error}},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email"},domProps:{value:t.email},on:{blur:function(e){return t.$v.email.$touch()},input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group py-2",class:{invalid:t.$v.password.$error}},[a("label",[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{blur:function(e){return t.$v.password.$touch()},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group py-2",class:{invalid:t.$v.confirmPassword.$error}},[a("label",[t._v("Comfirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:t.confirmPassword},on:{blur:function(e){return t.$v.confirmPassword.$touch()},input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),a("div",{staticClass:"pt-2 pb-4"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit",disabled:t.$v.$invalid}},[t._v("Submit")])])])])])]),a("app-footer")],1)},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header text-center bg-primary text-white"},[a("h4",[t._v("Sign Up")])])}],Pt={data:function(){return{email:"",password:"",userName:"",confirmPassword:""}},computed:{unauthEmailError:function(){return this.$store.state.unauthEmailError},emailExistError:function(){return this.$store.state.emailExistError}},components:{appHeader:k,appFooter:T},validations:{email:{required:_t["required"],email:_t["email"]},password:{required:_t["required"],minLen:Object(_t["minLength"])(6)},confirmPassword:{sameAs:Object(_t["sameAs"])("password")}},methods:{signupSubmit:function(){var t={email:this.email,password:this.password,confirmPassword:this.confirmPassword};this.$store.dispatch("signup",{email:t.email,password:t.password}),this.email=null,this.password=null,this.confirmPassword=null}}},xt=Pt,$t=(a("c8e2"),Object(u["a"])(xt,St,jt,!1,null,null,null)),Tt=$t.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("div",{staticClass:"row pt-4"},[a("div",{staticClass:"col-lg-6 offset-lg-3 col-md-8 offset-md-2 col-sm-8 offset-sm-2"},[a("div",{staticClass:"card"},[t._m(0),a("div",{staticClass:"card-body"},[t.emailExistError?a("div",{staticClass:"alert alert-danger"},[t._v("\n            A registration request was already submitted before. Please don't submit repeatly.\n          ")]):t._e(),t.requestRecieved?a("div",{staticClass:"alert alert-success"},[t._v("\n            Your info was submited successfully. Thank you!\n          ")]):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.registerUser(e)}}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6",class:{invalid:t.$v.first_name.$error}},[a("label",[t._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.first_name},on:{blur:function(e){return t.$v.first_name.$touch()},input:function(e){e.target.composing||(t.first_name=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6",class:{invalid:t.$v.last_name.$error}},[a("label",[t._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.last_name,expression:"last_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.last_name},on:{blur:function(e){return t.$v.last_name.$touch()},input:function(e){e.target.composing||(t.last_name=e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6",class:{invalid:t.$v.study_name.$error}},[a("label",[t._v("Which study are you interested in?")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.study_name,expression:"study_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.study_name},on:{blur:function(e){return t.$v.study_name.$touch()},input:function(e){e.target.composing||(t.study_name=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6",class:{invalid:t.$v.email.$error}},[a("label",[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{blur:function(e){return t.$v.email.$touch()},input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6",class:{invalid:t.$v.password.$error}},[a("label",[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{blur:function(e){return t.$v.password.$touch()},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6",class:{invalid:t.$v.confirmPassword.$error}},[a("label",[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.confirmPassword},on:{blur:function(e){return t.$v.confirmPassword.$touch()},input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})])]),a("hr"),a("div",{staticClass:"col-sm-6 offset-sm-3"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.$v.$invalid}},[t._v("Submit")])])])])])])]),a("app-footer")],1)},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header text-center bg-primary text-white"},[a("h4",[t._v("Register")])])}],It=(a("a481"),a("a4bb")),Ot=a.n(It),Mt={data:function(){return{first_name:null,last_name:null,study_name:null,email:null,password:null,confirmPassword:null,emailExistError:!1,requestRecieved:!1}},validations:{first_name:{required:_t["required"]},last_name:{required:_t["required"]},study_name:{required:_t["required"]},email:{required:_t["required"],email:_t["email"]},password:{required:_t["required"],minLen:Object(_t["minLength"])(6)},confirmPassword:{sameAs:Object(_t["sameAs"])("password")}},methods:{registerUser:function(){var t=this;f.a.get('/waitlist.json?orderBy="email"&equalTo="'.concat(this.email,'"')).then(function(e){if(0!==Ot()(e.data).length)return t.emailExistError=!0,setTimeout(function(){t.emailExistError=!1},15e3),void t.cleanInput();var a={first_name:t.first_name,last_name:t.last_name,study_name:t.study_name,email:t.email,password:t.password};f.a.post("/waitlist.json",a).then(function(e){console.log(e),t.requestRecieved=!0,t.cleanInput(),setTimeout(function(){t.requestRecieved=!1,t.$router.replace("/")},15e3)})}).catch(function(t){return console.log(t)})},cleanInput:function(){this.first_name=null,this.last_name=null,this.study_name=null,this.email=null,this.password=null,this.confirmPassword=null}},components:{appHeader:k,appFooter:T}},Ut=Mt,Nt=(a("f1d9"),Object(u["a"])(Ut,Dt,Et,!1,null,null,null)),Rt=Nt.exports,qt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container pt-4 text-center"},[a("h1",[t._v("404")]),a("h4",[t._v("Page not found")]),a("hr"),a("p",[t._v("So is your diet records")]),a("p",[t._v("Just kidding. Your diet records are fine")]),a("p",[t._v("Redirecting in 3, 2, 1...")])])}],Lt={methods:{redirect:function(){var t=this;setTimeout(function(){t.$router.replace("/")},5e3)}},created:function(){this.redirect()}},Ft=Lt,Wt=(a("8410"),Object(u["a"])(Ft,qt,At,!1,null,null,null)),Bt=Wt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row p-4"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card bg-my-blue text-white"},[a("div",{staticClass:"card-body"},[a("h4",[a("font-awesome-icon",{attrs:{icon:"folder-open"}}),t._v(" Total Projects: "+t._s(t.projectNumber))],1)])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card bg-my-blue text-white"},[a("div",{staticClass:"card-body"},[a("h4",[a("font-awesome-icon",{attrs:{icon:"users"}}),t._v(" Total Users: "+t._s(t.userNumber))],1)])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card bg-my-blue text-white"},[a("div",{staticClass:"card-body"},[a("h4",[a("font-awesome-icon",{staticStyle:{"font-size":"30"},attrs:{icon:["fab","stack-overflow"]}}),t._v(" Waitlist: "+t._s(t.waitlistNumber))],1)])])])])},Jt=[],Yt={data:function(){return{date:null,projectNumber:null,userNumber:null,waitlistNumber:null}},computed:{idToken:function(){return this.$store.state.idToken}},methods:{getProjectNumber:function(){var t=this;f.a.get("/projects.json?auth=".concat(this.idToken)).then(function(e){t.projectNumber=Ot()(e.data).length})},getUserNumber:function(){var t=this;f.a.get("/users.json?auth=".concat(this.idToken)).then(function(e){t.userNumber=Ot()(e.data).length})},getWaitlistNumber:function(){var t=this;f.a.get("/waitlist.json").then(function(e){t.waitlistNumber=Ot()(e.data).length})}},created:function(){this.getProjectNumber(),this.getUserNumber();var t=new Date;this.date="".concat(String(t.getFullYear()),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")),this.getWaitlistNumber()}},Ht=Yt,Qt=(a("bba2"),Object(u["a"])(Ht,zt,Jt,!1,null,"0b298785",null)),Vt=Qt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-hover"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{attrs:{scope:"col"}},[t._v("Project Name")]),a("th",{attrs:{scope:"col"}},[t._v("Coordinator")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("font-awesome-icon",{staticClass:"clickable-fa",attrs:{icon:"plus"},on:{click:function(e){e.preventDefault(),t.addProject=!0}}})],1)])]),t._l(t.projectIds,function(e,s){return a("tbody",[t.addProject&&0===s?a("app-edit-record",{attrs:{recordData:t.emptyProject,editState:!1,recordTemplete:t.projectTemplete},on:{showSubmitModal:function(e){return t.showSubmitModal(e)},editCanceled:function(e){t.addProject=!1}}}):t._e(),t.editProject!==s?a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),a("td",[t._v(t._s(t.projects[e].study_name))]),a("td",[t._v(t._s(t.projects[e].coordinator))]),a("td",[t._v(t._s(t.projects[e].coordinator_email))]),a("td",{staticClass:"text-center"},[a("font-awesome-icon",{staticClass:"clickable-fa",attrs:{icon:"pencil-alt"},on:{click:function(e){e.preventDefault(),t.editProject=s}}})],1)]):t._e(),t.editProject===s?a("app-edit-record",{attrs:{recordData:t.projects[e],editState:!0,recordTemplete:t.projectTemplete},on:{showSubmitModal:function(a){return t.showSubmitModal(a,e)},showDeleteModal:function(a){return t.showDeleteModal(e)},editCanceled:function(e){t.editProject=null}}}):t._e()],1)})],2),t.submitModal?a("app-modal",{attrs:{type:"submit",editState:t.editState},on:{addConfirmed:t.submitNewProject,editConfirmed:t.updateProject,modalCanceled:t.cancelEdit}},[t._v("\n      Sure to submit this project?\n    ")]):t._e(),t.deleteModal?a("app-modal",{attrs:{type:"delete"},on:{deleteConfirmed:t.deleteProject,modalCanceled:t.cancelEdit}},[t._v("\n      Sure to delete this project?  \n    ")]):t._e()],1)])},Gt=[],Zt=(a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th"),t._l(t.order,function(e,s){return a("td",["checkbox"===t.types[s]?a("input",{directives:[{name:"model",rawName:"v-model",value:t.record[e],expression:"record[key]"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.record[e])?t._i(t.record[e],null)>-1:t.record[e]},on:{change:function(a){var s=t.record[e],n=a.target,r=!!n.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);n.checked?o<0&&t.$set(t.record,e,s.concat([i])):o>-1&&t.$set(t.record,e,s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.record,e,r)}}}):"radio"===t.types[s]?a("input",{directives:[{name:"model",rawName:"v-model",value:t.record[e],expression:"record[key]"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.record[e],null)},on:{change:function(a){return t.$set(t.record,e,null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.record[e],expression:"record[key]"}],staticClass:"form-control",attrs:{type:t.types[s]},domProps:{value:t.record[e]},on:{input:function(a){a.target.composing||t.$set(t.record,e,a.target.value)}}})])}),a("td",{staticClass:"text-center"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return e.preventDefault(),t.showSubmitModal(e)}}},[t._v("save")]),t.editState?a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return e.preventDefault(),t.showDeleteModal(e)}}},[t._v("delete")]):t._e(),a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){return e.preventDefault(),t.cancelEdit(e)}}},[t._v("cancel")])])])],2)}),Kt=[],te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal modal-mask",staticStyle:{display:"block"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._t("default")],2)]),t.textInput?a("div",{staticClass:"modal-body"},[a("form",[a("label",{staticClass:"d-block"},[t._t("inputMessage")],2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData,expression:"inputData"}],attrs:{type:"text"},domProps:{value:t.inputData},on:{input:function(e){e.target.composing||(t.inputData=e.target.value)}}})]),t._v("\n            "+t._s(t.inputData)+"\n          ")]):t._e(),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn",class:{"btn-primary":"submit"===t.type,"btn-danger":"delete"===t.type},on:{click:function(e){return e.preventDefault(),t.confirm(e)}}},[t._v("\n              "+t._s(t.type)+"\n            ")]),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("cancel")])])])])])])},ee=[],ae={data:function(){return{inputData:null}},props:{type:{type:String,required:!0},editState:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1}},methods:{confirm:function(){"delete"===this.type?this.$emit("deleteConfirmed"):this.editState?this.$emit("editConfirmed"):this.$emit("addConfirmed",this.inputData)},cancel:function(){this.$emit("modalCanceled")}}},se=ae,ne=(a("d7e7"),Object(u["a"])(se,te,ee,!1,null,null,null)),re=ne.exports,ie={props:["recordData","recordTemplete","editState"],data:function(){return{record:{},order:[],types:{}}},methods:{showSubmitModal:function(){this.$emit("showSubmitModal",{editState:this.editState,data:this.record})},showDeleteModal:function(){this.$emit("showDeleteModal")},cancelEdit:function(){this.$emit("editCanceled")}},created:function(){var t=this;for(var e in this.recordData)this.$set(this.record,e,this.recordData[e]);this.recordTemplete.forEach(function(e,a){for(var s in e)t.$set(t.order,a,s),t.$set(t.types,s,e[s])})}},oe=ie,ce=(a("f9ff"),Object(u["a"])(oe,Zt,Kt,!1,null,"26b8250c",null)),le=ce.exports,ue={data:function(){return{projects:{},projectIds:[],editState:null,addProject:!1,editProject:null,projectTemplete:[{study_name:"text"},{coordinator:"text"},{coordinator_email:"email"}],projectOnStack:{},keyOnStack:null,submitModal:!1,deleteModal:!1}},computed:{idToken:function(){return this.$store.state.idToken},emptyProject:function(){var t={};return this.projectTemplete.forEach(function(e){for(var a in e)t[a]=null}),t}},components:{appEditRecord:le,appModal:re},methods:{indexProjects:function(){var t=[];for(var e in this.projects)t.push(e);this.projectIds=t},showSubmitModal:function(t,e){this.projectOnStack=t.data,this.editState=t.editState,e&&(this.keyOnStack=e),this.submitModal=!0},showDeleteModal:function(t){this.keyOnStack=t,this.deleteModal=!0},cancelEdit:function(){this.addProject=!1,this.editProject=null,this.submitModal=!1,this.deleteModal=!1},submitNewProject:function(){var t=this;this.addProject=!1,this.submitModal=!1,f.a.post("/projects.json?auth=".concat(this.idToken),this.projectOnStack).then(function(e){console.log(e.data),t.$set(t.projects,e.data.name,t.projectOnStack),t.indexProjects(),t.projectOnStack={},t.editState=null}).catch(function(t){return console.log(t)})},updateProject:function(){var t=this;this.editProject=!1,this.submitModal=!1,f.a.put("/projects/".concat(this.keyOnStack,".json?auth=").concat(this.idToken),this.projectOnStack).then(function(e){t.$set(t.projects,t.keyOnStack,t.projectOnStack),t.projectOnStack={},t.keyOnStack=null,t.editState=null})},deleteProject:function(){var t=this;this.editProject=null,this.deleteModal=!1,f.a.delete("/projects/".concat(this.keyOnStack,".json?auth=").concat(this.idToken)).then(function(e){t.$delete(t.projects,t.keyOnStack),t.indexProjects(),t.keyOnStack=null})},fetchProjects:function(){var t=this;f.a.get("/projects.json?auth=".concat(this.idToken)).then(function(e){t.projects=e.data,t.indexProjects()})}},created:function(){this.fetchProjects()}},de=ue,me=(a("7c3f"),Object(u["a"])(de,Xt,Gt,!1,null,"67dc5f6d",null)),pe=me.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-hover"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{attrs:{scope:"col"}},[t._v("\n            Last Name\n            "),a("input",{staticClass:"form-control input-sm",attrs:{type:"text"},on:{input:function(e){return t.filterTable("last_name",e)}}})]),a("th",{attrs:{scope:"col"}},[t._v("\n            First Name\n            "),a("input",{staticClass:"form-control",attrs:{type:"text"},on:{input:function(e){return t.filterTable("first_name",e)}}})]),a("th",{attrs:{scope:"col"}},[t._v("\n            Email\n            "),a("input",{staticClass:"form-control",attrs:{type:"text"},on:{input:function(e){return t.filterTable("email",e)}}})]),a("th",{attrs:{scope:"col"}},[t._v("\n            Study Name\n            "),a("input",{staticClass:"form-control",attrs:{type:"text"},on:{input:function(e){return t.filterTable("study_name",e)}}})]),a("th",{attrs:{scope:"col"}},[t._v("\n            Subject ID\n            "),a("input",{staticClass:"form-control",attrs:{type:"text"},on:{input:function(e){return t.filterTable("subject_id",e)}}})]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("font-awesome-icon",{staticClass:"clickable-fa",attrs:{icon:"plus"},on:{click:function(e){e.preventDefault(),t.addUser=!0}}})],1)])]),t._l(t.userIds.slice(10*(t.currentPage-1),10*t.currentPage),function(e,s){return a("tbody",[t.addUser&&0===s?a("app-edit-record",{attrs:{recordData:t.emptyUser,editState:!1,recordTemplete:t.userTemplete},on:{showSubmitModal:function(e){return t.showSubmitModal(e)},editCanceled:function(e){t.addUser=!1}}}):t._e(),t.editUser!==s?a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),a("td",[t._v(t._s(t.users[e].last_name))]),a("td",[t._v(t._s(t.users[e].first_name))]),a("td",[t._v(t._s(t.users[e].email))]),a("td",[t._v(t._s(t.users[e].study_name))]),a("td",[t._v(t._s(t.users[e].subject_id))]),a("td",{staticClass:"text-center",staticStyle:{"white-space":"nowrap"}},[a("font-awesome-icon",{staticClass:"clickable-fa",attrs:{icon:"pencil-alt"},on:{click:function(e){e.preventDefault(),t.editUser=s}}}),a("font-awesome-icon",{staticClass:"clickable-fa",attrs:{icon:"download"},on:{click:function(e){return e.preventDefault(),t.downloadUserRecords(e)}}})],1)]):t._e(),t.editUser===s?a("app-edit-record",{attrs:{recordData:t.users[e],editState:!0,recordTemplete:t.userTemplete},on:{showSubmitModal:function(a){return t.showSubmitModal(a,e)},showDeleteModal:function(a){return t.showDeleteModal(e)},editCanceled:function(e){t.editUser=null}}}):t._e()],1)})],2),a("app-pagination",{attrs:{pages:t.pages,currentPage:t.currentPage},on:{goToPage:function(e){t.currentPage=e},goPrevPage:function(e){t.currentPage-=1},goNextPage:function(e){t.currentPage+=1}}}),t.submitModal?a("app-modal",{attrs:{type:"submit",editState:t.editState},on:{addConfirmed:t.submitNewUser,editConfirmed:t.updateUser,modalCanceled:t.cancelEdit}},[t._v("\n      Sure to submit this user?\n    ")]):t._e(),t.deleteModal?a("app-modal",{attrs:{type:"delete"},on:{deleteConfirmed:t.deleteUser,modalCanceled:t.cancelEdit}},[t._v("\n      Sure to delete this user?  \n    ")]):t._e()],1)])},ve=[],he=(a("386d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"ml-auto",attrs:{"aria-label":"Pages"}},[a("ul",{staticClass:"pagination justify-content-end"},[a("li",{staticClass:"page-item",class:{disabled:1===t.currentPage||0===t.pages}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.goPrevPage(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),a("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pages,function(e){return a("li",{staticClass:"page-item",class:{active:e===t.currentPage}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goToPage(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])])}),a("li",{staticClass:"page-item",class:{disabled:t.currentPage===t.pages||0===t.pages}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.goNextPage(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),a("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)])}),ge=[],be={props:["pages","currentPage"],methods:{goToPage:function(t){this.$emit("goToPage",t)},goPrevPage:function(){this.$emit("goPrevPage")},goNextPage:function(){this.$emit("goNextPage")}}},_e=be,we=Object(u["a"])(_e,he,ge,!1,null,null,null),Ce=we.exports,ye={data:function(){return{users:{},userIds:[],editState:null,addUser:!1,editUser:null,userTemplete:[{last_name:"text"},{first_name:"text"},{email:"email"},{study_name:"text"},{subject_id:"text"}],userOnStack:{},keyOnStack:null,submitModal:!1,deleteModal:!1,pages:null,currentPage:null}},computed:{idToken:function(){return this.$store.state.idToken},emptyUser:function(){var t={};return this.userTemplete.forEach(function(e){for(var a in e)t[a]=null}),t}},components:{appEditRecord:le,appModal:re,appPagination:Ce},methods:{indexUsers:function(){var t=[];for(var e in this.users)t.push(e);this.userIds=t,this.pages=Math.ceil(this.userIds.length/10),this.currentPage=1},filterTable:function(t,e){var a=[];for(var s in this.users){var n=this.users[s][t];void 0!==n&&-1!==n.search(e.target.value)&&a.push(s)}this.userIds=a},showSubmitModal:function(t,e){this.userOnStack=t.data,this.editState=t.editState,this.submitModal=!0,e&&(this.keyOnStack=e)},showDeleteModal:function(t){this.keyOnStack=t,this.deleteModal=!0},cancelEdit:function(){this.addUser=!1,this.editUser=null,this.submitModal=!1,this.deleteModal=!1},submitNewUser:function(){var t=this;this.addUser=!1,this.submitModal=!1,this.$set(this.userOnStack,"user_type","user"),console.log(this.userOnStack),f.a.post("/users.json?auth=".concat(this.idToken),this.userOnStack).then(function(e){t.$set(t.users,e.data.name,t.userOnStack),t.indexUsers(),t.userOnStack={},t.editState=null}).catch(function(t){return console.log(t)})},updateUser:function(){var t=this;this.editUser=!1,this.submitModal=!1,this.$set(this.userOnStack,"user_type","user"),f.a.put("/users/".concat(this.keyOnStack,".json?auth=").concat(this.idToken),this.userOnStack).then(function(e){console.log(e.data),t.$set(t.users,t.keyOnStack,t.userOnStack),t.userOnStack={},t.keyOnStack=null,t.editState=null})},deleteUser:function(){var t=this;this.editUser=null,this.deleteModal=!1,f.a.delete("/users/".concat(this.keyOnStack,".json?auth=").concat(this.idToken)).then(function(e){t.$delete(t.users,t.keyOnStack),t.indexUsers(),t.keyOnStack=null,t.editState=null})},fetchUsers:function(){var t=this;f.a.get("/users.json?auth=".concat(this.idToken)).then(function(e){for(var a in e.data)"user"===e.data[a].user_type&&t.$set(t.users,a,e.data[a]);t.indexUsers()})}},created:function(){this.fetchUsers()}},ke=ye,Se=(a("0181"),Object(u["a"])(ke,fe,ve,!1,null,"966e4662",null)),je=Se.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"card m-3",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"containter"},[a("form",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",[t._v("Project")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedProject,expression:"selectedProject"}],staticClass:"custom-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedProject=e.target.multiple?a:a[0]},t.fetchUsers]}},t._l(t.projects,function(e,s){return a("option",{domProps:{value:e}},[t._v(t._s(e.study_name))])}),0)]),a("div",{staticClass:"form-group col-md-4"},[a("label",[t._v("Subject")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSubject,expression:"selectedSubject"}],staticClass:"custom-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedSubject=e.target.multiple?a:a[0]},t.fetchDietRecords]}},t._l(t.subjects,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e.info))])}),0)]),a("div",{staticClass:"form-group col-md-4"},[a("label",[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.date},on:{change:t.fetchDietRecords,input:function(e){e.target.composing||(t.date=e.target.value)}}})])])])])])]),a("div",{staticClass:"card m-3",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",t._l(t.dietIndices,function(e,s){return a("tr",[a("th",[t._v(t._s(s+1))]),a("td",[t._v(t._s(t.dietRecords[e].meal_type))]),a("td",[t._v(t._s(t.dietRecords[e].item))]),a("td",[t._v(t._s(t.dietRecords[e].quantity))]),a("td",[t._v(t._s(t.dietRecords[e].unit))])])}),0)]),a("app-pagination",{attrs:{pages:t.pages,currentPage:t.currentPage},on:{goToPage:function(e){t.currentPage=e},goPrevPage:function(e){t.currentPage-=1},goNextPage:function(e){t.currentPage+=1}}})],1)])])},xe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{attrs:{scope:"col"}},[t._v("Meal Type")]),a("th",{attrs:{scope:"col"}},[t._v("Food Item")]),a("th",{attrs:{scope:"col"}},[t._v("Quantity")]),a("th",{attrs:{scope:"col"}},[t._v("Unit")])])])}],$e={data:function(){return{projects:[],subjects:[],dietRecords:{},dietIndices:[],date:null,selectedProject:{},selectedSubject:{},pages:null,currentPage:1}},computed:{idToken:function(){return this.$store.state.idToken}},methods:{getDietIndex:function(){var t=[];for(var e in this.dietRecords)t.push(e);this.dietIndices=t,this.pages=Math.ceil(this.dietIndices.length/10),this.currentPage=1},fetchProjects:function(){var t=this;f.a.get("/projects.json?auth=".concat(this.idToken)).then(function(e){var a=[];for(var s in e.data)a.push({id:s,study_name:e.data[s].study_name});t.projects=a,t.selectedProject=a[0],t.fetchUsers()}).catch(function(t){return console.log(t)})},fetchUsers:function(){var t=this;f.a.get('/users.json?orderBy="study_name"&equalTo="'.concat(this.selectedProject.study_name,'"&auth=').concat(this.idToken)).then(function(e){var a=[];for(var s in e.data){var n=e.data[s];a.push({userId:s,info:"".concat(n.subject_id," | ").concat(n.first_name," ").concat(n.last_name)})}t.subjects=a,t.selectedSubject=a[0],t.fetchDietRecords()}).catch(function(t){return console.log(t)})},fetchDietRecords:function(){var t=this;f.a.get("/diet/".concat(this.selectedSubject.userId,"/").concat(this.date,".json?auth=").concat(this.idToken)).then(function(e){t.dietRecords=e.data,t.getDietIndex()})}},components:{appPagination:Ce},created:function(){this.fetchProjects();var t=new Date;this.date="".concat(String(t.getFullYear()),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))}},Te=$e,De=(a("6419"),Object(u["a"])(Te,Pe,xe,!1,null,"e202d56e",null)),Ee=De.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"table table-hover"},[a("table",{staticClass:"table"},[t._m(0),t._l(t.waitlistIndices,function(e,s){return a("tbody",[t.editUser!==e?a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),a("td",[t._v(t._s(t.waitlist[e].first_name))]),a("td",[t._v(t._s(t.waitlist[e].last_name))]),a("td",[t._v(t._s(t.waitlist[e].study_name))]),a("td",[t._v(t._s(t.waitlist[e].email))]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){a.preventDefault(),t.editUser=e}}},[t._v("edit")]),a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(a){return a.preventDefault(),t.acceptUserShowModal(e)}}},[t._v("accept")]),a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return a.preventDefault(),t.rejectUserShowModal(e)}}},[t._v("reject")])])])]):t._e(),t.editUser===e?a("app-edit-record",{attrs:{recordData:t.waitlist[e],editState:!1,recordTemplete:t.recordTemplete},on:{showSubmitModal:function(a){return t.saveChangeShowModal(a,e)},editCanceled:function(e){t.editUser=null}}}):t._e()],1)})],2),a("app-pagination",{attrs:{pages:t.pages,currentPage:t.currentPage},on:{goToPage:function(e){t.currentPage=e},goPrevPage:function(e){t.currentPage-=1},goNextPage:function(e){t.currentPage+=1}}})],1)]),t.submitModal?a("app-modal",{attrs:{type:"submit",editState:!0},on:{editConfirmed:t.saveChange,modalCanceled:t.resetStackData}},[t._v("\n    Sure to save this change?  \n  ")]):t._e(),t.acceptModal?a("app-modal",{attrs:{type:"submit",textInput:!0},on:{addConfirmed:function(e){return t.acceptUser(e)},modalCanceled:t.resetStackData},scopedSlots:t._u([{key:"inputMessage",fn:function(){return[t._v("Assign a subject ID: ")]},proxy:!0}],null,!1,3423022187)},[[t._v("Accept")]],2):t._e(),t.rejectModal?a("app-modal",{attrs:{type:"delete"},on:{deleteConfirmed:t.removeFromWaitlist,modalCanceled:t.resetStackData}},[t._v("\n    Sure to reject this candidate?\n  ")]):t._e()],1)},Oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{attrs:{scope:"col"}},[t._v("First Name")]),a("th",{attrs:{scope:"col"}},[t._v("Last Name")]),a("th",{attrs:{scope:"col"}},[t._v("Interested Study")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th",{attrs:{scope:"col"}})])])}],Me=f.a.create({baseURL:"https://www.googleapis.com/identitytoolkit/v3/relyingparty"}),Ue=Me,Ne={data:function(){return{waitlist:{},waitlistIndices:[],editUser:null,recordTemplete:[{first_name:"text"},{last_name:"text"},{study_name:"text"},{email:"email"}],recordOnStack:{},userIdOnStack:null,submitModal:!1,acceptModal:!1,rejectModal:!1,pages:null,currentPage:1}},computed:{idToken:function(){return this.$store.state.idToken}},methods:{fetchWaitlist:function(){var t=this;f.a.get("/waitlist.json").then(function(e){t.waitlist=e.data,t.getWaitlistIndices()})},getWaitlistIndices:function(){var t=[];for(var e in this.waitlist)t.push(e);this.waitlistIndices=t,this.pages=Math.ceil(this.waitlistIndices.length/10),this.currentPage=1},saveChangeShowModal:function(t,e){console.log(t.data),this.recordOnStack=t.data,this.userIdOnStack=e,this.submitModal=!0},acceptUserShowModal:function(t){this.userIdOnStack=t,this.acceptModal=!0},rejectUserShowModal:function(t){this.userIdOnStack=t,this.rejectModal=!0},saveChange:function(){var t=this;f.a.put("/waitlist/".concat(this.userIdOnStack,".json"),this.recordOnStack).then(function(e){t.$set(t.waitlist,t.userIdOnStack,t.recordOnStack),t.resetStackData()}).catch(function(t){return console.log(t)})},resetStackData:function(){this.recordOnStack={},this.userIdOnStack=null,this.submitModal=!1,this.acceptModal=!1,this.rejectModal=!1,this.editUser=null,this.subject_id=null},acceptUser:function(t){var e=this,a=this.waitlist[this.userIdOnStack],s={email:a.email,first_name:a.first_name,last_name:a.last_name,study_name:a.study_name,subject_id:t,user_type:"user"};f.a.post("/users.json?auth=".concat(this.idToken),s).then(function(t){e.authUser()}).catch(function(t){return console.log(t)})},authUser:function(){var t=this,e=this.waitlist[this.userIdOnStack];Ue.post("/signupNewUser?key=AIzaSyBgfyfLVpm5Xa9lTMesWPLA1Q3_2JJfOdI",{email:e.email,password:e.password,returnSecureToken:!0}).then(function(e){t.removeFromWaitlist()}).catch(function(t){return console.log(t)})},removeFromWaitlist:function(){var t=this;f.a.delete("/waitlist/".concat(this.userIdOnStack,".json?auth=").concat(this.idToken)).then(function(e){t.$delete(t.waitlist,t.userIdOnStack),t.getWaitlistIndices(),t.resetStackData()}).catch(function(t){return console.log(t)})}},components:{appEditRecord:le,appModal:re,appPagination:Ce},created:function(){this.fetchWaitlist()}},Re=Ne,qe=(a("2004"),Object(u["a"])(Re,Ie,Oe,!1,null,"1e521dca",null)),Ae=qe.exports;s["a"].use(N["a"]);var Le=new N["a"].Store({state:{idToken:null,localId:null,date:null,userType:null,userId:null,unauthEmailError:!1,emailExistError:!1,passwordError:!1},mutations:{setIdToken:function(t,e){t.idToken=e},setUserId:function(t,e){t.userId=e},setUserType:function(t,e){t.userType=e},setDate:function(t,e){t.date=e},clearAuthData:function(t){t.idToken=null,t.userType=null,t.userId=null},setUnauthEmailError:function(t){t.unauthEmailError=!0,setTimeout(function(){t.unauthEmailError=!1},15e3)},setEmailExistError:function(t){t.emailExistError=!0,setTimeout(function(){t.emailExistError=!1},15e3)},setPasswordError:function(t){t.passwordError=!0,setTimeout(function(){t.passwordError=!1},15e3)}},actions:{setLogoutTimer:function(t,e){var a=t.commit;setTimeout(function(){a("clearAuthData"),We.replace("/")},1e3*e)},signup:function(t,e){var a=this,s=t.commit,n=t.dispatch;f.a.get('/users.json?orderBy="email"&equalTo="'.concat(e.email,'"')).then(function(t){if(console.log(t.data),0!==Ot()(t.data).length){var r=[];for(var i in t.data)r.push(i);a.userId=r[0],Ue.post("/signupNewUser?key=AIzaSyBgfyfLVpm5Xa9lTMesWPLA1Q3_2JJfOdI",{email:e.email,password:e.password,returnSecureToken:!0}).then(function(t){console.log(t),s("authUser",t.data.idToken),s("setUserType","user");var e=new Date,r=new Date(e+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("expirationDate",r),localStorage.setItem("userId",a.userId),localStorage.setItem("userType","user"),n("setLogoutTimer",t.data.expiresIn)}).catch(function(t){console.log(t.response.status),s("setEmailExistError")})}else s("setUnauthEmailError")}).catch(function(t){console.log(t)})},login:function(t,e){var a=t.commit,s=t.dispatch;Ue.post("/verifyPassword?key=AIzaSyBgfyfLVpm5Xa9lTMesWPLA1Q3_2JJfOdI",{email:e.email,password:e.password,returnSecureToken:!0}).then(function(t){console.log(t),a("setIdToken",t.data.idToken);var n=new Date,r=new Date(n+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("expirationDate",r),s("setLogoutTimer",t.data.expiresIn),s("fetchUser",e.email)}).catch(function(t){console.log(t),a("setPasswordError")})},tryAutoLogin:function(t){var e=t.commit,a=t.state,s=localStorage.getItem("token");if(s){e("setIdToken",s);var n=localStorage.getItem("expirationDate"),r=new Date;if(!(r>=n)){var i=localStorage.getItem("userId");e("setUserId",i);var o=localStorage.getItem("userType");e("setUserType",o),"user"===a.userType?We.replace("/user"):"admin"===a.userType&&We.replace("/admin")}}},logout:function(t){var e=t.commit;e("clearAuthData"),localStorage.removeItem("expirationDate"),localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userType"),We.replace("/signin")},fetchUser:function(t,e){var a=t.commit,s=t.state;f.a.get('/users.json?orderBy="email"&equalTo="'.concat(e,'"')).then(function(t){console.log(t);var e=[];for(var n in t.data)e.push(n);a("setUserId",e[0]),localStorage.setItem("userId",e[0]);var r=t.data[s.userId].user_type;a("setUserType",r),localStorage.setItem("userType",r),"user"===s.userType?We.replace("/user"):"admin"===s.userType&&We.replace("/admin")})}},getters:{dietRecords:function(t){return t.dietRecords},isAuthenticated:function(t){return null!==t.idToken}}});s["a"].use(v["a"]);var Fe=[{path:"",component:O},{path:"/user",component:Z,beforeEnter:function(t,e,a){Le.state.idToken?a():a("/signin")}},{path:"/admin",component:ht,redirect:"/admin/overview",children:[{path:"overview",name:"OverviewPage",component:Vt},{path:"projects",name:"ProjectsPage",component:pe},{path:"users",name:"UsersPage",component:je},{path:"records",name:"RecordsPage",component:Ee},{path:"waitlist",name:"WaitlistPage",component:Ae}],beforeEnter:function(t,e,a){Le.state.idToken?a():a("/signin")}},{path:"/signin",component:kt},{path:"/signup",component:Tt},{path:"/register",component:Rt},{path:"*",component:Bt}],We=new v["a"]({routes:Fe}),Be=a("9f7b"),ze=a.n(Be),Je=(a("f9e3"),a("2dd8"),a("ecee")),Ye=a("c074"),He=a("f2d1"),Qe=a("ad3d");s["a"].use(r.a),s["a"].use(ze.a),Je["c"].add(Ye["d"],Ye["c"],Ye["h"],Ye["i"],Ye["g"],Ye["f"],Ye["e"],Ye["b"],He["b"],He["a"],Ye["a"]),s["a"].component("font-awesome-icon",Qe["a"]),s["a"].config.productionTip=!1,f.a.defaults.baseURL="https://diet-tracker-zch-331e8.firebaseio.com",f.a.defaults.headers.get["Accepts"]="application/json",s["a"].config.productionTip=!1,new s["a"]({router:We,store:Le,render:function(t){return t(m)}}).$mount("#app")},"5b56":function(t,e,a){},"61d4":function(t,e,a){},6419:function(t,e,a){"use strict";var s=a("6cc4"),n=a.n(s);n.a},"652a":function(t,e,a){t.exports=a.p+"img/food-front.2f4c6ce1.jpg"},"6a25":function(t,e,a){"use strict";var s=a("fe30"),n=a.n(s);n.a},"6cc4":function(t,e,a){},"6f61":function(t,e,a){},"6fbc":function(t,e,a){},"70c2":function(t,e,a){},"749f":function(t,e,a){},"74bd":function(t,e,a){"use strict";var s=a("1664"),n=a.n(s);n.a},"7a54":function(t,e,a){"use strict";var s=a("3cf2"),n=a.n(s);n.a},"7c3f":function(t,e,a){"use strict";var s=a("3d96"),n=a.n(s);n.a},8410:function(t,e,a){"use strict";var s=a("a41a"),n=a.n(s);n.a},a116:function(t,e,a){},a41a:function(t,e,a){},a81b:function(t,e,a){"use strict";var s=a("6fbc"),n=a.n(s);n.a},bba2:function(t,e,a){"use strict";var s=a("f4a4"),n=a.n(s);n.a},c526:function(t,e,a){},c651:function(t,e,a){},c8e2:function(t,e,a){"use strict";var s=a("70c2"),n=a.n(s);n.a},d7e7:function(t,e,a){"use strict";var s=a("6f61"),n=a.n(s);n.a},dfaf:function(t,e,a){"use strict";var s=a("749f"),n=a.n(s);n.a},f1d9:function(t,e,a){"use strict";var s=a("5b56"),n=a.n(s);n.a},f4a4:function(t,e,a){},f9ff:function(t,e,a){"use strict";var s=a("a116"),n=a.n(s);n.a},fd70:function(t,e,a){},fe30:function(t,e,a){}});
//# sourceMappingURL=app.ccb3c652.js.map